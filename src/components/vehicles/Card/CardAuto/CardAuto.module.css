/**
 * CardAuto.module.css - Diseño Premium Refinado
 * 
 * Migrado desde React - Estilos exactos
 * 
 * @author Indiana Peugeot
 * @version 8.0.0 - Migración desde React
 */

/* ===== VARIABLES CSS LOCALES ===== */
.card {
    /* Variables de espaciado unificadas */
    --card-padding-base: var(--spacing-3);
    --card-padding-compact: var(--spacing-2);
    --card-gap-base: var(--spacing-3);
    --card-gap-compact: var(--spacing-2);
    
    /* Variables de borde y sombra */
    --card-border-width: 0.5px;
    --card-border-opacity: 0.08;
    --card-border-opacity-hover: 0.15;
    --card-shadow-base: 0 2px 8px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.06);
    --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12), 0 12px 32px rgba(0, 0, 0, 0.08);
    --card-hover-lift: -6px;
    --card-hover-lift-mobile: -4px;
    --card-image-zoom: 1.04;
    
    /* Layout */
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    max-width: 360px;
    
    /* Estilo visual */
    background: var(--color-white);
    border-radius: var(--border-radius-lg);
    border: var(--card-border-width) solid rgba(0, 0, 0, var(--card-border-opacity));
    box-shadow: var(--card-shadow-base);
    
    /* Comportamiento */
    overflow: hidden;
    position: relative;
    margin: 0 auto;
    cursor: pointer;
    text-decoration: none;
    color: inherit;
    
    /* ✅ OPTIMIZACIÓN: Transiciones solo en propiedades que usan compositor (GPU) */
    transition: 
        transform var(--transition-smooth),
        box-shadow var(--transition-smooth),
        border-color var(--transition-smooth);
    
    /* ✅ OPTIMIZACIÓN: Aceleración GPU para mejor scroll performance */
    will-change: transform;
    
    /* ✅ OPTIMIZACIÓN: Forzar capa de composición */
    transform: translateZ(0);
}

/* Hover: Efecto flotación refinado */
.card:hover {
    transform: translateY(var(--card-hover-lift));
    border-color: rgba(0, 0, 0, var(--card-border-opacity-hover));
    box-shadow: var(--card-shadow-hover);
}

/* Active: Feedback táctil para mobile */
.card:active {
    transform: translateY(calc(var(--card-hover-lift) * 0.5));
}

/* Focus: Accesibilidad mejorada */
.card:focus {
    outline: 2px solid var(--color-brand-500);
    outline-offset: 2px;
}

.card:focus:not(:focus-visible) {
    outline: none;
}

/* ===== CONTENEDOR DE IMAGEN (FOCO PRINCIPAL) ===== */
.card__image-container {
    position: relative;
    overflow: hidden;
    width: 100%;
    
    /* ✅ PROPORCIÓN FIJA: 16/9 - Sin hacks, solo CSS moderno */
    aspect-ratio: 16 / 9;
    
    /* ✅ FALLBACK: Altura mínima calculada para navegadores sin aspect-ratio */
    min-height: 202.5px; /* Fallback fijo basado en max-width: 360px de la card */
    
    /* ✅ FONDO: Placeholder mientras carga */
    background: var(--color-neutral-50);
    
    /* ✅ CRÍTICO PRODUCCIÓN: Prevenir contracción en flexbox */
    flex-shrink: 0;
    
    /* ✅ OPTIMIZACIÓN: Contain agresivo para mejor scroll performance */
    contain: layout paint style;
    
    /* ✅ OPTIMIZACIÓN: Aceleración GPU para scroll suave */
    will-change: transform;
}

/**
 * IMAGEN DENTRO DEL CONTENEDOR
 */
.card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    
    /* ✅ TRANSICIÓN: Solo transform (performance - usa GPU) */
    transition: transform var(--transition-smooth);
    
    /* ✅ Z-INDEX: Asegurar que esté sobre el placeholder */
    z-index: 0;
}

/**
 * ZOOM SUTIL EN HOVER - Optimizado para performance
 */
.card:hover .card__image {
    transform: scale(var(--card-image-zoom)) translateZ(0);
}

/* ===== CUERPO DE LA TARJETA ===== */
.card__body {
    --body-padding-y: var(--card-padding-base);
    --body-padding-x: var(--card-padding-base);
    --body-gap: var(--card-gap-base);
    
    flex: 1;
    min-height: 0;
    
    display: flex;
    flex-direction: column;
    gap: var(--body-gap);
    padding: var(--body-padding-y) var(--body-padding-x);
    background: var(--color-white);
    justify-content: space-between;
}

/* ===== CONTENEDOR 1: Logo fijo + Datos con padding ===== */
.container1 {
    --container-border-opacity: 0.06;
    --container-border-radius-top: var(--border-radius-md);
    --logo-space: clamp(75px, 21vw, 120px);
    
    position: relative;
    display: flex;
    flex-direction: row;
    gap: 0;
    width: 100%;
    align-items: flex-start;
    justify-content: flex-start;
    flex-shrink: 0;
    min-height: 0;
    border-right: none;
    border-radius: var(--container-border-radius-top) var(--container-border-radius-top) 0 0;
}

/* Logo con posición fija en esquina superior derecha */
.container1_left {
    position: absolute;
    top: var(--spacing-1);
    right: 0;
    z-index: 1;
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
    width: fit-content;
    min-width: 0;
}

.brand_logo {
    --logo-size-base: clamp(75px, 21vw, 110px);
    --logo-opacity: 0.92;
    --logo-opacity-hover: 1;
    
    width: var(--logo-size-base);
    height: var(--logo-size-base);
    display: block;
    object-fit: contain;
    opacity: var(--logo-opacity);
    transition: 
        opacity var(--transition-smooth),
        transform var(--transition-fast);
    transform: scale(1);
}

/* Variantes de tamaño de logo */
.brand_logo_small {
    --logo-size-base: clamp(65px, 18vw, 90px);
    width: var(--logo-size-base);
    height: var(--logo-size-base);
}

.brand_logo_large {
    --logo-size-base: clamp(78px, 21vw, 110px);
    width: var(--logo-size-base);
    height: var(--logo-size-base);
}

/* Hover: Logo más visible y sutilmente más grande */
.card:hover .brand_logo {
    opacity: var(--logo-opacity-hover);
    transform: scale(1.02);
}

/* Bloque de datos con padding para reservar espacio del logo */
.container1_right {
    flex: 1 1 auto;
    width: 100%;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 0;
    justify-content: flex-start;
    align-items: flex-start;
    overflow: visible;
    padding-right: var(--logo-space);
    position: relative;
    z-index: 2;
}

/* FILA 1: Marca + Modelo - Jerarquía mejorada */
.container1_row1 {
    --row-line-height: 1.15;
    --row-gap: var(--spacing-1);
    
    display: flex;
    align-items: baseline;
    justify-content: flex-start;
    gap: var(--row-gap);
    width: 100%;
    flex-wrap: wrap;
    min-width: 0;
    flex-shrink: 0;
    padding-bottom: 0;
    margin-bottom: 0;
    line-height: var(--row-line-height);
    position: relative;
    z-index: 2;
}

/* Marca: Más prominente y con mayor peso */
.marca_text {
    --marca-font-size: clamp(1.5rem, 4.8vw, 1.75rem);
    
    font-size: var(--marca-font-size);
    font-weight: var(--font-weight-bold);
    font-family: var(--font-condensed);
    color: var(--color-text-primary);
    letter-spacing: -0.3px;
    flex-shrink: 0;
    white-space: normal;
    position: relative;
    z-index: 2;
}

/* Separador: Más sutil */
.marca_modelo_separator {
    --separator-opacity: 0.2;
    --separator-font-size: clamp(1.5rem, 4.8vw, 1.75rem);
    
    font-size: var(--separator-font-size);
    font-weight: var(--font-weight-light);
    font-family: var(--font-condensed);
    color: var(--color-neutral-400);
    opacity: var(--separator-opacity);
    padding: 0 calc(var(--spacing-1) * 0.5);
    flex-shrink: 0;
    position: relative;
    z-index: 2;
}

/* Modelo: Ligeramente más pequeño que marca para jerarquía */
.modelo_title {
    --modelo-font-size: clamp(1.4rem, 4.5vw, 1.65rem);
    
    font-size: var(--modelo-font-size);
    font-weight: var(--font-weight-semibold);
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    line-height: var(--row-line-height);
    letter-spacing: -0.2px;
    margin: 0;
    text-align: left;
    flex-shrink: 1;
    min-width: 0;
    overflow: visible;
    text-overflow: clip;
    white-space: normal;
    position: relative;
    z-index: 2;
}

.version_text {
    --version-font-size: clamp(1.4rem, 4.5vw, 1.65rem);
    
    font-size: var(--version-font-size);
    font-weight: var(--font-weight-semibold);
    font-family: var(--font-condensed);
    color: var(--color-neutral-500);
    line-height: var(--row-line-height);
    letter-spacing: -0.2px;
    flex-shrink: 1;
    min-width: 0;
    overflow: visible;
    text-overflow: clip;
    white-space: normal;
    margin-left: var(--spacing-1);
    position: relative;
    z-index: 2;
}

/* FILA 3: Caja, Km, Año - Adaptado al contenido con padding */
.container1_row3 {
    --data-item-padding-right: var(--spacing-3);
    --data-margin-top: var(--spacing-2);
    
    display: flex;
    justify-content: flex-start;
    align-items: flex-end;
    gap: 0;
    flex-wrap: nowrap;
    width: 100%;
    min-width: 0;
    overflow: visible;
    flex-shrink: 0;
    margin-top: var(--data-margin-top);
    padding-top: 0;
}

.row2_data_item {
    --data-item-padding-right: var(--spacing-3);
    
    display: flex;
    align-items: flex-end;
    justify-content: flex-start;
    height: 100%;
    flex: 0 0 auto;
    min-width: 0;
    padding-right: var(--data-item-padding-right);
}

.row2_data_item:first-child {
    min-width: 0;
}

.row2_data_item:not(:first-child) {
    min-width: 0;
}

.row2_data_item_automatica {
    padding-right: var(--data-item-padding-right);
}

.row2_data_content {
    display: flex;
    flex-direction: column;
    gap: 0;
    align-items: flex-start;
    justify-content: flex-end;
    text-align: left;
    width: 100%;
}

/* Label: Más legible y con mejor contraste */
.row2_data_label {
    --label-font-size: clamp(0.8125rem, 2.1vw, 0.9375rem);
    --label-letter-spacing: 0.2px;
    
    font-size: var(--label-font-size);
    font-weight: var(--font-weight-medium);
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    letter-spacing: var(--label-letter-spacing);
    text-transform: capitalize;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
    margin-bottom: 2px;
}

/* Value: Más legible, peso aumentado ligeramente */
.row2_data_value {
    --value-font-size: clamp(1.25rem, 3.5vw, 1.5rem);
    --value-letter-spacing: -0.3px;
    --value-line-height: 1.25;
    --value-font-weight: 300;
    
    font-size: var(--value-font-size);
    font-weight: var(--value-font-weight);
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    line-height: var(--value-line-height);
    letter-spacing: var(--value-letter-spacing);
    width: 100%;
    text-align: left;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
    
    /* Optimización de renderizado de texto fino */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
}

/* ===== PRECIO DIVIDIDO EN 2 CONTENEDORES ===== */
.container4 {
    --price-border-opacity: 0.05;
    --price-border-radius: var(--border-radius-lg);
    
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: var(--spacing-2);
    margin-top: 0;
    padding-top: 0;
    border-top: 1px solid var(--color-neutral-200);
    border-left: 1px solid rgba(0, 0, 0, var(--price-border-opacity));
    border-radius: var(--price-border-radius) 0 0 0;
}

/* Contenedor izquierda: "Desde:" */
.price_label_container {
    --label-width: 30%;
    --label-padding-left: var(--spacing-2);
    
    flex: 0 0 var(--label-width);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0;
    padding-left: var(--label-padding-left);
    background: transparent;
}

/* Label "desde": Más legible y menos cursiva */
.price_label {
    --label-font-size: clamp(1.125rem, 2.8vw, 1.375rem);
    
    font-size: var(--label-font-size);
    font-weight: var(--font-weight-medium);
    font-style: normal;
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    text-align: left;
    text-transform: lowercase;
    letter-spacing: 0.5px;
}

/* Contenedor derecha: Precio */
.price_display {
    --price-width: 70%;
    --price-padding-right: var(--spacing-3);
    
    flex: 0 0 var(--price-width);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 0;
    padding-top: var(--spacing-1);
    padding-right: var(--price-padding-right);
    background: transparent;
}

/* Precio destacado: Más legible, menos cursiva */
.price_value {
    --price-font-size: clamp(2.125rem, 5.8vw, 2.625rem);
    --price-letter-spacing: -0.4px;
    --price-line-height: 1.15;
    --price-symbol-size: 0.7em;
    
    font-size: var(--price-font-size);
    font-weight: var(--font-weight-bold);
    font-style: normal;
    font-family: var(--font-condensed);
    color: var(--color-brand-500);
    line-height: var(--price-line-height);
    letter-spacing: var(--price-letter-spacing);
    text-align: right;
}

/* Signo de pesos más pequeño */
.price_value::first-letter {
    font-size: var(--price-symbol-size);
}

/* ===== RESPONSIVE - MOBILE FIRST ===== */

/* Mobile: Espaciado más compacto */
@media (max-width: 575px) {
    .card {
        --card-hover-lift: var(--card-hover-lift-mobile);
        max-width: 340px;
        width: 100%;
        box-sizing: border-box;
    }
    
    .card__body {
        --body-padding-y: var(--card-padding-compact);
        --body-padding-x: var(--card-padding-compact);
        --body-gap: var(--card-gap-compact);
    }
    
    .container1 {
        gap: 0;
    }
    
    .container1_row3 {
        --data-gap: var(--spacing-2);
        --data-margin-top: var(--spacing-1);
    }
}

/* Tablet: Espaciado medio */
@media (min-width: 576px) {
    .card {
        border-radius: var(--border-radius-lg);
    }
    
    .card__body {
        --body-padding-y: var(--card-padding-base);
        --body-padding-x: var(--card-padding-base);
        --body-gap: var(--spacing-4);
    }
    
    .container1 {
        gap: 0;
    }
    
    .container1_row3 {
        --data-gap: var(--spacing-3);
    }
}

/* Desktop: Espaciado generoso y bordes más redondeados */
@media (min-width: 768px) {
    .card {
        border-radius: var(--border-radius-xl);
    }
    
    .card__body {
        --body-gap: var(--spacing-2);
    }
    
    .container1 {
        gap: 0;
    }
}

/* ===== ACCESIBILIDAD: REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    .card,
    .card__image,
    .brand_logo {
        transition: none;
    }
    
    .card:hover .card__image {
        transform: none;
    }
    
    .card:hover {
        transform: none;
    }
}

